Version 4
SHEET 1 1736 788
WIRE 368 32 48 32
WIRE 48 112 48 32
WIRE 368 112 368 32
WIRE 368 128 368 112
WIRE 320 192 208 192
WIRE 368 240 368 208
WIRE 480 240 368 240
WIRE 624 240 560 240
WIRE 784 240 624 240
WIRE 912 240 784 240
WIRE 368 272 368 240
WIRE 624 288 624 240
WIRE 784 288 784 240
WIRE 48 384 48 192
WIRE 368 384 368 336
WIRE 368 384 48 384
WIRE 624 384 624 352
WIRE 624 384 368 384
WIRE 784 384 784 368
WIRE 784 384 624 384
WIRE 48 416 48 384
WIRE 624 464 560 464
WIRE 912 464 912 240
WIRE 496 480 368 480
WIRE 736 496 560 496
WIRE 832 496 800 496
WIRE 880 496 832 496
WIRE 1040 496 944 496
WIRE 624 608 624 464
WIRE 672 608 624 608
WIRE 1040 608 1040 576
FLAG 208 192 CTRL
IOPIN 208 192 In
FLAG 48 416 0
FLAG 1040 608 0
FLAG 368 480 CTRL
IOPIN 368 480 Out
FLAG 48 32 12v
FLAG 832 496 Error
SYMBOL nmos 320 112 R0
SYMATTR InstName M1
SYMATTR Value Si4410DY
SYMBOL voltage 48 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL ind 464 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 1000µ
SYMBOL cap 608 288 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL res 768 272 R0
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL schottky 384 336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value MBR735
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 1040 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL sub2 912 496 R180
SYMATTR InstName U1
SYMBOL pi_comp 768 496 R180
SYMATTR InstName U2
SYMATTR Value k=10
SYMATTR Value2 tau=10e-5
SYMBOL sawtooth 704 608 R180
SYMATTR InstName U3
SYMATTR Value Vlow=0 Vhigh=12
SYMATTR Value2 f=10k
SYMBOL comp 528 480 R180
SYMATTR InstName U4
SYMATTR Value Vhigh=12
SYMATTR Value2 Vlow=0
TEXT 120 592 Left 2 !.inc Control.lib
TEXT 124 568 Left 2 !.tran 10m
